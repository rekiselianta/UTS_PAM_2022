{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useAnimatedReaction = useAnimatedReaction;\n\nvar _react = require(\"react\");\n\nvar _core = require(\"../core\");\n\nvar _useSharedValue = require(\"./useSharedValue\");\n\nfunction useAnimatedReaction(prepare, react, dependencies) {\n  var _a, _b;\n\n  var previous = (0, _useSharedValue.useSharedValue)(null);\n\n  if (dependencies === undefined) {\n    dependencies = [Object.values((_a = prepare._closure) !== null && _a !== void 0 ? _a : {}), Object.values((_b = react._closure) !== null && _b !== void 0 ? _b : {}), prepare.__workletHash, react.__workletHash];\n  } else {\n    dependencies.push(prepare.__workletHash, react.__workletHash);\n  }\n\n  (0, _react.useEffect)(function () {\n    var _a;\n\n    var fun = function fun() {\n      'worklet';\n\n      var input = prepare();\n      react(input, previous.value);\n      previous.value = input;\n    };\n\n    var mapperId = (0, _core.startMapper)(fun, Object.values((_a = prepare._closure) !== null && _a !== void 0 ? _a : {}), []);\n    return function () {\n      (0, _core.stopMapper)(mapperId);\n    };\n  }, dependencies);\n}","map":{"version":3,"sources":["C:/Users/USER/uts/node_modules/react-native-reanimated/lib/reanimated2/hook/useAnimatedReaction.js"],"names":["useAnimatedReaction","prepare","react","dependencies","_a","_b","previous","undefined","Object","values","_closure","__workletHash","push","fun","input","value","mapperId"],"mappings":";;;;;AAAA;;AACA;;AACA;;AAOO,SAASA,mBAAT,CAA6BC,OAA7B,EAAsCC,KAAtC,EAA6CC,YAA7C,EAA2D;AAC9D,MAAIC,EAAJ,EAAQC,EAAR;;AACA,MAAMC,QAAQ,GAAG,oCAAe,IAAf,CAAjB;;AACA,MAAIH,YAAY,KAAKI,SAArB,EAAgC;AAC5BJ,IAAAA,YAAY,GAAG,CACXK,MAAM,CAACC,MAAP,CAAc,CAACL,EAAE,GAAGH,OAAO,CAACS,QAAd,MAA4B,IAA5B,IAAoCN,EAAE,KAAK,KAAK,CAAhD,GAAoDA,EAApD,GAAyD,EAAvE,CADW,EAEXI,MAAM,CAACC,MAAP,CAAc,CAACJ,EAAE,GAAGH,KAAK,CAACQ,QAAZ,MAA0B,IAA1B,IAAkCL,EAAE,KAAK,KAAK,CAA9C,GAAkDA,EAAlD,GAAuD,EAArE,CAFW,EAGXJ,OAAO,CAACU,aAHG,EAIXT,KAAK,CAACS,aAJK,CAAf;AAMH,GAPD,MAQK;AACDR,IAAAA,YAAY,CAACS,IAAb,CAAkBX,OAAO,CAACU,aAA1B,EAAyCT,KAAK,CAACS,aAA/C;AACH;;AACD,wBAAU,YAAM;AACZ,QAAIP,EAAJ;;AACA,QAAMS,GAAG,GAAG,SAANA,GAAM,GAAM;AACd;;AACA,UAAMC,KAAK,GAAGb,OAAO,EAArB;AACAC,MAAAA,KAAK,CAACY,KAAD,EAAQR,QAAQ,CAACS,KAAjB,CAAL;AACAT,MAAAA,QAAQ,CAACS,KAAT,GAAiBD,KAAjB;AACH,KALD;;AAMA,QAAME,QAAQ,GAAG,uBAAYH,GAAZ,EAAiBL,MAAM,CAACC,MAAP,CAAc,CAACL,EAAE,GAAGH,OAAO,CAACS,QAAd,MAA4B,IAA5B,IAAoCN,EAAE,KAAK,KAAK,CAAhD,GAAoDA,EAApD,GAAyD,EAAvE,CAAjB,EAA6F,EAA7F,CAAjB;AACA,WAAO,YAAM;AACT,4BAAWY,QAAX;AACH,KAFD;AAGH,GAZD,EAYGb,YAZH;AAaH","sourcesContent":["import { useEffect } from 'react';\nimport { startMapper, stopMapper } from '../core';\nimport { useSharedValue } from './useSharedValue';\n/**\n * @param prepare - worklet used for data preparation for the second parameter\n * @param react - worklet which takes data prepared by the one in the first parameter and performs certain actions\n * the first worklet defines the inputs, in other words on which shared values change will it be called.\n * the second one can modify any shared values but those which are mentioned in the first worklet. Beware of that, because this may result in endless loop and high cpu usage.\n */\nexport function useAnimatedReaction(prepare, react, dependencies) {\n    var _a, _b;\n    const previous = useSharedValue(null);\n    if (dependencies === undefined) {\n        dependencies = [\n            Object.values((_a = prepare._closure) !== null && _a !== void 0 ? _a : {}),\n            Object.values((_b = react._closure) !== null && _b !== void 0 ? _b : {}),\n            prepare.__workletHash,\n            react.__workletHash,\n        ];\n    }\n    else {\n        dependencies.push(prepare.__workletHash, react.__workletHash);\n    }\n    useEffect(() => {\n        var _a;\n        const fun = () => {\n            'worklet';\n            const input = prepare();\n            react(input, previous.value);\n            previous.value = input;\n        };\n        const mapperId = startMapper(fun, Object.values((_a = prepare._closure) !== null && _a !== void 0 ? _a : {}), []);\n        return () => {\n            stopMapper(mapperId);\n        };\n    }, dependencies);\n}\n"]},"metadata":{},"sourceType":"script"}